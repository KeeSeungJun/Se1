<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>회원가입</title>
    <link rel="stylesheet" th:href="@{/css/register.css}" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g==" crossorigin="anonymous" referrerpolicy="no-referrer">
</head>
<body>
<div class="register-container">
    <h2>회원가입</h2>
    <div id="main" class="main.active">
        <!-- 이름 -->
        <div class="form-group">
            <label for="name">이름</label>
            <input type="text" id="name" name="name" placeholder="이름을 입력해주세요" required />
        </div>

        <!-- 생년월일 -->
        <div class="form-group">
            <label for="birthdate">생년월일</label>
            <input type="date" id="birthdate" name="birthdate" required />
        </div>

        <!-- 이메일 -->
        <div class="form-group">
            <label for="email">이메일</label>
            <input type="email" id="email" name="email" placeholder="이메일을 입력해주세요" required />
        </div>

        <!-- 비밀번호 -->
        <div class="form-group">
            <label for="password">비밀번호</label>
            <div class="input-wrapper">
                <input type="password" id="password" placeholder="비밀번호를 입력해주세요" required />
                <i id="toggle-icon-password" class="fa-regular fa-eye toggle-icon" onclick="toggleVisibility('password', 'toggle-icon-password')"></i>
            </div>
        </div>
        <div class="form-group">
            <label for="confirm-password"></label>
            <div class="input-wrapper">
                <input type="password" id="confirm-password" placeholder="비밀번호를 다시 입력해주세요" required />
                <i id="toggle-icon-confirm" class="fa-regular fa-eye toggle-icon" onclick="toggleVisibility('confirm-password', 'toggle-icon-confirm')"></i>
            </div>
        </div>

        <!-- 전화번호 -->
        <div class="form-group">
            <label for="phone">전화번호</label>
            <div class="phone-verification-container">
                <input
                        type="tel"
                        id="phone"
                        maxlength="11"
                        placeholder="전화번호 입력"
                        oninput="handlePhoneInput()"
                        required
                />
<!--                <button id="send-code-btn" type="button" disabled onclick="startVerification()">인증번호</button>-->
<!--            </div>-->
<!--        </div>-->
<!--        &lt;!&ndash; 인증번호 &ndash;&gt;-->
<!--        <div class="form-group">-->
<!--            <label for="verification-code"></label>-->
<!--            <div class="verification-code-container">-->
<!--                <div class="input-with-timer">-->
<!--                    <input-->
<!--                            type="text"-->
<!--                            id="verification-code"-->
<!--                            maxlength="6"-->
<!--                            placeholder="인증번호 입력"-->
<!--                            oninput="handleVerificationInput()"-->
<!--                    />-->
<!--                    <span id="timer">03:00</span>-->
<!--                </div>-->
<!--                <button id="verify-code-btn" type="button" disabled onclick="verifyCode()">인증하기</button>-->
            </div>
        </div>

        <!-- 주소 입력 영역 -->
        <div class="form-group address-group">
            <h1>주소 입력</h1>
            <input type="text" id="postcode" placeholder="우편번호" readonly />
            <input type="button" onclick="openPostcodeModal()" value="우편번호 찾기" />
            <br />
            <input type="text" id="address" placeholder="주소" readonly />
            <br />
            <input type="text" id="detailAddress" placeholder="상세주소" />
            <input type="text" id="extraAddress" placeholder="참고항목" readonly />
        </div>

        <!-- 질병 -->
        <div class="form-group">
            <button id="open-disease-modal" type="button">질병 선택하기</button>
        </div>

        <!-- 성별 -->
        <div class="form-group">
            <label></label>
            <div class="gender-buttons">
                <button type="button" id="male" onclick="selectGender('male')">남성</button>
                <button type="button" id="female" onclick="selectGender('female')">여성</button>
            </div>
            <input type="hidden" id="gender" name="gender" />
        </div>

        <!--직업 선택 및 약관 동의 -->
        <div class="form-group">
            <label for="occupation">(기존) 직업</label>
            <input type="text" id="occupation" name="occupation" placeholder="직업을 입력해주세요" required>
        </div>

    </div>
    <div class="checkbox-group">
        <input type="checkbox" id="agree-all" onclick="toggleAllCheckboxes()">
        <label for="agree-all">전체 동의 <br>&emsp;&nbsp;선택항목 포함 모든 약관에 동의합니다.</label>
    </div>

    <div class="checkbox-group">
        <input type="checkbox" id="agree-age" class="agree-checkbox">
        <label for="agree-age">(필수) 만 15세 이상입니다.</label>
        <!-- 약관 동의 -->
        <div class="checkbox-group">
            <input type="checkbox" id="agree-terms" class="agree-checkbox">
            <label for="agree-terms">(필수) 서비스 이용약관 동의</label>
            <div id="age-content" class="scroll-box">
                <p>제1조 (목적)<br>
                    이 약관은 Seonier가 제공하는 웹사이트 및 관련 서비스의 이용과 관련하여<br>
                    이용자의 권리, 의무 및 책임사항을 규정함을 목적으로 합니다.<br><br>
                    제2조 (이용계약의 성립)<br>
                    ① 서비스 이용자는 본 약관에 동의함으로써 이용계약이 성립됩니다.<br>
                    ② 회사는 서비스의 원활한 제공을 위해 필요한 범위 내에서<br>
                    이용자의 정보를 요청할 수 있습니다.<br><br>
                    제3조 (서비스 이용)<br>
                    ① 회사는 이용자에게 안정적인 서비스를 제공하기 위해 최선을 다합니다.<br>
                    ② 서비스는 연중무휴, 1일 24시간 제공됨을 원칙으로 합니다.<br>
                    단, 시스템 점검 등 불가피한 사유가 있을 경우 사전 고지 후 중단될 수 있습니다.<br><br>
                    제4조 (이용자의 의무)<br>
                    이용자는 다음 행위를 하여서는 안 됩니다:<br><br>
                    - 허위 정보의 등록<br>
                    - 타인의 개인정보 무단 사용<br>
                    - 서비스의 정상적인 운영을 방해하는 행위<br><br>
                    제5조 (계약 해지 및 이용 제한)<br>
                    회사는 이용자가 본 약관을 위반하거나 부정한 행위를 할 경우, 사전 통보 없이 서비스 이용을 제한하거나 계약을 해지할 수 있습니다.</p>
            </div>
        </div>

        <div class="checkbox-group">
            <input type="checkbox" id="agree-privacy" class="agree-checkbox" required>
            <label for="agree-privacy">(필수) 개인정보 처리 방침 동의</label>
            <div id="privacy-content" class="scroll-box">
                <p>1. 수집 항목<br>
                    회사는 회원가입, 상담, 서비스 신청 등을 위해 아래와 같은 개인정보를 수집할 수 있습니다.<br><br>
                    필수 항목: 이름, 이메일, 휴대전화번호<br>
                    선택 항목: 주소, 생년월일 등<br><br>
                    2. 수집 목적<br>
                    - 회원 관리 및 본인 확인<br>
                    - 서비스 제공 및 민원 처리<br>
                    - 마케팅 및 이벤트 안내 (선택 동의 시)<br><br>
                    3. 보유 및 이용 기간<br>
                    회사는 개인정보 수집 및 이용 목적이 달성된 후에는 해당 정보를 지체 없이 파기합니다.<br>
                    단, 관련 법령에 따라 일정 기간 보관이 필요한 경우에는 해당 기간 동안 보관합니다.<br><br>
                    - 회원 탈퇴 후 5일까지<br>
                    - 전자상거래법 등 관련 법령에 따른 보관<br><br>
                    4. 동의를 거부할 권리 및 불이익<br>
                    이용자는 개인정보 수집 및 이용에 동의하지 않을 권리가 있으며, 이 경우 서비스 이용에 제한이 있을 수 있습니다.</p>
            </div>
        </div>

        <!-- 모달 -->
        <div id="disease-modal" class="modal" style="display:none;">
            <div class="modal-content">
                <h2>질병 선택하기</h2>

                <div class="health-buttons">
                    <button type="button" data-field="USR_HEALTH1" onclick="selectInterest(this)">고혈압</button>
                    <button type="button" data-field="USR_HEALTH2" onclick="selectInterest(this)">당뇨병</button>
                    <button type="button" data-field="USR_HEALTH3" onclick="selectInterest(this)">목디스크</button>
                    <button type="button" data-field="USR_HEALTH4" onclick="selectInterest(this)">간질환</button>
                    <button type="button" data-field="USR_HEALTH5" onclick="selectInterest(this)">만성 요통</button>
                    <button type="button" data-field="USR_HEALTH6" onclick="selectInterest(this)">심장 질환</button>
                    <button type="button" data-field="USR_HEALTH7" onclick="selectInterest(this)">시력 저하</button>
                    <button type="button" data-field="USR_HEALTH8" onclick="selectInterest(this)">청력 저하</button>
                </div>

                <div class="custom-input">
                    <label for="customDisease" class="disease-label">해당되지 않은 질병이 있으신가요?</label><br>
                    <input type="text" id="customDisease" placeholder="질병을 입력해주세요.">
                </div>

                <button type="button" id="confirmBtn">확인하기</button>
            </div>
        </div>
        <input type="hidden" id="selectedDiseases" name="selectedDiseases" value="">

        <div id="postcodeOverlay" class="postcode-overlay" style="display:none;">
            <div id="postcodeModal" class="postcode-modal"></div>
        </div>

        <button type="button" onclick="validateAndSubmit()">회원가입 하기</button>
    </div>
</div>
</div>
<script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
<script src="https://ssl.daumcdn.net/dmaps/map_js_init/postcode.v2.js"></script>
<script type="text/javascript" th:src="@{/js/register.js}"></script>
</body>
</html>